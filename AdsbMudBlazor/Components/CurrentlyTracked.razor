@using AdsbMudBlazor.Service
@inject FeederService feederService
@inject IFlightFetcher flightFetcher

<MudText Class="mb-8">
    Total flights currently being tracked by
    <MudLink Href="@($"https://www.flightradar24.com/account/feed-stats/?id={feederService.FeederId}")">@feederService.FeederName</MudLink>:
    @if (flightCount != null) { 
        @flightCount
    }

</MudText>

@code{
    private int? flightCount { get; set;}

    protected override async Task OnInitializedAsync()
    {
        flightCount = await flightFetcher.GetCurrentlyTrackedFlightsCount();
    }
}
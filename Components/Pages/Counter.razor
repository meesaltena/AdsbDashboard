@page "/counter"
@using AdsbMudBlazor.Service
@rendermode InteractiveServer
@inject FlightsService FlightsService
<MyMudProviders />

<PageTitle>Total unique </PageTitle>

<MudText Class="mb-4">Current count: @_currentCount</MudText>
<MudText Class="mb-4">Flight count: @_flightCount</MudText>
<MudText Class="mb-4">Ticks taken: @_ticksTaken</MudText>

@code {
    private int _currentCount = 0;
    private int _flightCount= 0;
    private int _ticksTaken;
    protected override Task OnInitializedAsync()
    {
        var t1 = Environment.TickCount;
        _flightCount = FlightsService.GetNonEnumeratedFlightCount();
        var t2 = Environment.TickCount;
        _ticksTaken = t2 - t1;
        return base.OnInitializedAsync();
    }
}
